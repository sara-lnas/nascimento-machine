<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/styles/style.css">
    <link rel="shortcut icon" href="/src/img/logo.png" type="image/x-icon">
    <title>Nascimento machine's</title>
</head>

<body>
    <!-- HEADER P√ÅGINA-->
    <div class="header">
        <h1 class="titulo">Nascimento machine's</h1>
    </div>

    
    <div class="container">
        <div class="content">
            <div class="box"> 
                <div class="information">
                    <span>Informe um n√∫mero</span>
                    <input type="text" id="input_valorDesejado" placeholder="Digite o valor desejado">
                </div>

                <div class="content-principal">
                    <span>Selecione a base para a convers√£o:</span>
                    <select id="select_baseConversao">
                        <option value="" data-default disabled selected> Escolher uma base</option>
                        <option value="binario">Bin√°rio</option> 
                        <option value="decimal">Decimal</option>
                        <option value="octal">Octal</option>
                        <option value="hexadecimal">Hexadecimal</option>
                    </select>
                </div>

                <span>Selecione as bases nas quais gostaria de ver a convers√£o:</span>
                <div class="conteudo">
                    <input id="convertBinario" onclick="aparecer_octal()" type="checkbox">
                    <label for="convertBinario">Bin√°rio</label>
                    <br>
                    <input id="convertDecimal" onclick="aparecer_hexa()" type="checkbox">
                    <label for="convertDecimal">Decimal</label>
                    <br>
                    <input id="convertOctal" onclick="aparecer_bin()" type="checkbox">
                    <label for="convertOctal">Octal</label>
                    <br>
                    <input id="convertHexadecimal" onclick="aparecer_bin()" type="checkbox">
                    <label for="convertHexadecimal">Hexadecimal</label>
                    <br>
                    <p id="btn"><button onclick="Converter()" class="button">Converter</button></p>
                </div>
            </div>
        </div>
        <div class="resultado">
            <!-- <h2 class="resultado-final" id="h2_resultado_final">&gt; resultados</h2> -->
            <h2 class="resultado-final" id="h2_resultado_final"></h2>
            <img src="Binary2.png" width="1px" id="imagem"> 
            <div id="show"></div> 
        </div>
    </div>


    <!-- Div do Pop Up -->
    <div id="myPopUp" class="modal"> <!-- modal √© a classe para Pop Up-->
        <div class="containerPopUp">
            <span class="close">&times;</span>
            <p> <h2>Ol√°, Bem Vindo(a) a Nascimento Machine's!üòÑ</h2>
                <br>
                <span style="font-family: Verdana, Geneva, Tahoma, sans-serif;"> Voc√™ j√° se encontrou atolado(a) em uma montanha de dados, tentando encontrar uma maneira de transform√°-los em algo √∫til e compreens√≠vel? </span> <br><br>
                 <h4>üí° Na Nascimento Machine's simplificamos esse processo para voc√™ de forma mais simples e moderna!</h4>
            </p>
        </div>
    </div>

    <script src="src/js/script.js"></script>
</body>
</html>


<!-- 
<!--
ARDUINO
int pinoSensor = 7;
const int LM35 = A5; // Define o pino que lera a sa√≠da do LM35
float temperatura; // Vari√°vel que armazenar√° a temperatura medida

void setup() {
  pinMode(pinoSensor, INPUT);
  Serial.begin(9600);
}
 
 

void loop() {
  if(digitalRead(pinoSensor) == LOW){
  Serial.print(1);
  }
  else {
  Serial.print(0);
  }
  Serial.print(';');
  temperatura = (float(analogRead(LM35))*5/(1023))/0.01;
  Serial.println(temperatura);
  delay(2000);
}


API
// Importa os m√≥dulos necess√°rios
// n√£o altere!
const serialport = require('serialport'); // M√≥dulo para comunica√ß√£o serial
const express = require('express'); // M√≥dulo para criar um servidor web
const mysql = require('mysql2'); // M√≥dulo para conectar ao MySQL

// Constantes para configura√ß√µes
// n√£o altere!
const SERIAL_BAUD_RATE = 9600;
const SERVIDOR_PORTA = 3300;

// Habilita ou desabilita a inser√ß√£o de dados no banco de dados
// false -> nao insere
// true -> insere
const HABILITAR_OPERACAO_INSERIR = true;

// Fun√ß√£o para comunica√ß√£o serial
const serial = async (
    valoresLm35Temperatura,
    valoresChave
) => {
    let poolBancoDados = ''

    // Conex√£o com o banco de dados MySQL
    poolBancoDados = mysql.createPool(
        {
            // altere!
            // Credenciais do banco de dados
            host: 'localhost',
            user: 'XXXXXX',
            password: '#XXXXXX',
            database: 'arduino',
            port: 3306
        }
    ).promise();

    // Lista as portas seriais dispon√≠veis e procura pelo Arduino
    const portas = await serialport.SerialPort.list();
    const portaArduino = portas.find((porta) => porta.vendorId == 2341 && porta.productId == 43);
    if (!portaArduino) {
        throw new Error('O arduino n√£o foi encontrado em nenhuma porta serial');
    }

    // Configura a porta serial com o baud rate especificado
    const arduino = new serialport.SerialPort(
        {
            path: portaArduino.path,
            baudRate: SERIAL_BAUD_RATE
        }
    );

    // Evento quando a porta serial √© aberta
    arduino.on('open', () => {
        console.log(A leitura do arduino foi iniciada na porta $ {portaArduino.path} utilizando Baud Rate de $ {SERIAL_BAUD_RATE});
    });

    // Processa os dados recebidos do Arduino
    arduino.pipe(new serialport.ReadlineParser({ delimiter: '\r\n' })).on('data', async (data) => {
        const valores = data.split(';');
        const chave = parseInt(valores[0]);
        const lm35Temperatura = parseFloat(valores[1]);


        // Armazena os valores dos sensores nos arrays correspondentes
        valoresLm35Temperatura.push(lm35Temperatura);
        valoresChave.push(chave);

        // Insere os dados no banco de dados (se habilitado)
        if (HABILITAR_OPERACAO_INSERIR) {

            // altere!
            // Este insert ir√° inserir os dados na tabela "medida"
            await poolBancoDados.execute(
                'INSERT INTO temperatura_bloqueio (lm35_temperatura, chave) VALUES (?, ?)',
                [lm35Temperatura, chave]
               
            );
           
            console.log("valores inseridos no banco: " + chave + ", " + lm35Temperatura)
       
        }
       
    });

    // Evento para lidar com erros na comunica√ß√£o serial
    arduino.on('error', (mensagem) => {
        console.error(Erro no arduino (Mensagem: $ {mensagem})
    });
}


// n√£o altere!
// Fun√ß√£o para criar e configurar o servidor web
const servidor = (
    valoresLm35Temperatura,
    valoresChave
) => {
    const app = express();

    // Configura√ß√µes de CORS
    app.use((request, response, next) => {
        response.header('Access-Control-Allow-Origin', '*');
        response.header('Access-Control-Allow-Headers', 'Origin, Content-Type, Accept');
        next();
    });

    // Inicia o servidor na porta especificada
    app.listen(SERVIDOR_PORTA, () => {
        console.log(API executada com sucesso na porta $ {SERVIDOR_PORTA});
    });

    // Define os endpoints da API para cada tipo de sensor
    app.get('/sensores/lm35/temperatura', (_, response) => {
        return response.json(valoresLm35Temperatura);
    });
    app.get('/sensores/chave', (_, response) => {
        return response.json(valoresChave);
    });
}

// Fun√ß√£o principal ass√≠ncrona para iniciar a comunica√ß√£o serial e o servidor web
(async () => {
    const valoresLm35Temperatura = [];
    const valoresChave = [];

    // Inicia a comunica√ß√£o serial
    await serial(
        valoresLm35Temperatura,
        valoresChave
    );

    // Inicia o servidor web
    servidor(
        valoresLm35Temperatura,
        valoresChave
    );
})();


AVALIATIVA
Qual √© a distin√ß√£o entre as portas 3300 e 3306?

Enquanto a porta 3300 pode ser aplicada em diferentes servi√ßos, ela tem a finalidade de hospedar os dados da API, a porta 3306 √© um porta padr√£o para comunica√ß√£o dos servi√ßos MySQL, consultando e manipulando dados
 
No index.html, como √© feita a chamada √† API externa chart.js? Onde √© realizada essa chamada e onde um novo gr√°fico √© criado?

Dentro da tag ‚Äòhead‚Äô √© feito a importa√ß√£o da biblioteca do chart.js, logo ap√≥s √© adicionado a tag ‚Äòcanvas‚Äô dentro da tag ‚Äòbody‚Äô, sendo definido onde os gr√°ficos ser√£o gerados, por fim definindo dentro de uma tag ‚Äòscript‚Äô as configura√ß√µes, valores da tabela e renderiza√ß√£o do gr√°fico  

Onde √© poss√≠vel ajustar o tamanho e o tipo de gr√°fico gerado?

Dentro da variavel do sensor na tag script, voc√™ adiciona o tipo de gr√°fico por meio do comando new Chart, logo ap√≥s definindo colunas, cores, tamanhos do eixo x e y, al√©m da visualiza√ß√£o dos dados do gr√°fico

O que √© representado pelo m√©todo 'get' no c√≥digo main.js?

Por esse comando, √© definido o endpoint de cada tipo de sensor na API, pegando os dados dos sensores e sendo retornado o valor em json

 

Por que √© gerado um arquivo JSON e para que ele √© utilizado?

Arquivos json s√£o utilizados para exportar informa√ß√µes em texto armazenados para outras aplica√ß√µes web como o MySQL, sendo categorizado e organizado de uma maneira mais uniforme e leve

 

Considerando que no c√≥digo.ino a sa√≠da √©  

DHTH_temp; DHTH_umid; Luminosidade; LM35_temp; chave, explique como essa estrutura de dados (na forma de lista) √© adicionada como um vetor na APINode. Demonstre como o c√≥digo captura essa lista e a divide ordenadamente dentro de um vetor.

Os valores capturados pelo arduino s√£o armazenados pelo comando ‚Äò.push‚Äô e divididos pelo split com um (‚Äò;‚Äô), onde os dados s√£o separados e criando diferentes listas
-->